<!DOCTYPE >
{% load static %}
<html class="supernova">
<head>
    <title>Chỉnh sửa thông tin nhân viên</title>
    <link type="text/css" rel="stylesheet" href="https://cdn01.jotfor.ms/themes/CSS/5e6b428acc8c4e222d1beb91.css?themeRevisionID=5f7ed99c2c2c7240ba580251" />
    <link href="{%static  'css/styles.css' %}" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/js/all.min.js" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

</head>

<body>
    <form class="jotform-form" action="" method="post" enctype="multipart/form-data" name="form" id="form" accept-charset="utf-8" style="border:2px;">
        {% csrf_token %}
        <div role="main" class="form-all">
            <style>
                .form-all:before {
                    background: none;
                }
            </style>
            <ul class="form-section page-section">
                <li id="cid_34" class="form-input-wide" data-type="control_head">
                    <div class="form-header-group  header-large">
                        <div class="header-text httal htvam">
                            <h1 id="header_34" class="form-header" data-component="header" style="text-align:center; ">
                               Cập nhật thông tin nhân viên
                            </h1>
                        </div>
                    </div>
                </li>
                <li class="form-input-wide">
                <label class="form-label form-label-top form-label-auto" style="margin-left: 20px;">Ảnh đại diện </label>
                    <div class="avatar-wrapper1" >  
                                <img id="avt" class="profile-pic" src="/MEDIA/{{employee.Avatar}}" />
                                <div class="upload-button">
                                    <i class="fa fa-arrow-circle-up" aria-hidden="true"></i>
                                </div>
                                <input class="file-upload" name="avata" id="output" type="file" accept="image/*" value="/MEDIA/{{employee.Avatar}}"/>
                            </div> 
                            </li>
                <li class="form-line form-line-column form-col-1">
                    <label class="form-label form-label-top form-label-auto"> Họ và tên </label>
                    <div class="form-input-wide">
                        <span class="form-sub-label-container" style="vertical-align:top">
                            <input type="text" name="name" class="form-textbox" style="width:310px" data-masked="true" value="{{employee.EmployeeName}}" id="name"/>
                        </span>
                    </div>
                </li>
                <li class="form-line form-line-column form-col-2" >
                    <label class="form-label form-label-top form-label-auto" > Mã nhân viên</label>
                    <div class="form-input-wide" >
                        <input type="text" class="form-textbox" style="width:310px" size="310" value="{{employee.EmployeeId}}" data-component="textbox" disabled/>
                    </div>
                </li>
                <li class="form-line form-line-column form-col-1">
                    <label class="form-label form-label-top form-label-auto"> Ngày sinh </label>
                    <div class="form-input-wide" >
                        <span class="form-sub-label-container" style="vertical-align:top" >
                            <input type="date" name="inputdate" id="demo" type="text" class="form-textbox" style="width:310px" />
                        </span>
                    </div>
                </li>  
                <p id="intro" hidden>{{employee.Date_of_birth}}</p>
                <p id="de"> {{formatted_ngaysinh}} </p>
                <script>
                    const element = document.getElementById("intro");

                    document.getElementById("demo").innerHTML = element.innerHTML;

                    let ngaysinh = new Date(element.innerHTML);

                    let formatted_ngaysinh = ngaysinh.getFullYear() + "-" + ("0"+ (ngaysinh.getMonth() + 1)).slice(-2) + "-" + ("0"+ngaysinh.getDate()).slice(-2);

                    console.log(formatted_ngaysinh);

                    document.getElementById("demo").value = formatted_ngaysinh;
                </script>
                <li class="form-line form-line-column form-col-1" >
                    <label class="form-label form-label-top form-label-auto" > Số điện thoại </label>
                    <div class="form-input-wide" >
                        <span class="form-sub-label-container" style="vertical-align:top">
                            <input type="tel" name="inputTel" class="mask-phone-number form-textbox validate[Fill Mask]" style="width:310px" data-masked="true" value="{{employee.PhoneNumber}}" />
                        </span>
                    </div>
                </li>
                <li class="form-line form-line-column form-col-2" >
                    <label class="form-label form-label-top form-label-auto" > Email</label>
                    <div class="form-input-wide" data-layout="half">
                        <span class="form-sub-label-container" style="vertical-align:top">
                            <input type="email" name="inputEmail" class="form-textbox validate[Email]" style="width:310px" size="310" value="{{employee.Email}}"  />
                        </span>
                    </div>
                </li>
                <li class="form-line form-line-column form-col-2" >
                <div class="form-input-wide">
                    <label class="form-label form-label-top form-label-auto" for="inputbophan">Bộ phận</label>
                    <select class="form-textbox validate" name="inputbophan" style="width:310px; height: 40px;">
                        <option style="background-color:rgb(30, 182, 228)">{{employee.Department}}</option>
                        <option value="Dev">Dev</option>
                        <option value="Game design">Game design</option>
                        <option value="Art">Art</option>
                        <option value="Tester">Tester</option>
                    </select>
                </div>
                </li>
                <li class="form-line form-line-column form-col-2">
                    <div class="form-input-wide">
                        <label class="form-label form-label-top form-label-auto" for="inputchucdanh">Chức danh</label>
                        <select class="form-textbox validate" name="inputchucdanh" type="text" style="width:310px; height: 40px;" id= "chucdanh">
                            <option style="background-color:rgb(30, 182, 228)">{{employee.Position_Employee}} </option>
                            <option value="Nhân viên">Nhân viên</option>
                            <option value="Leader">Leader</option>
                            <option value="Quản lý">Quản lý</option>
                            <option value="Giám đốc">Giám đốc</option>
                        </select>
                    </div>
                </li>
                <!-- copy van ban tu chuc danh sang quyen truy cap -->
                <script type='text/javascript'>
                    $(document).ready(function() {
                        $('#chucdanh').change(function(){
                          $('input[type=quyentruycap]').val($('option:selected',this).text());
                          //$('input[type=price]').val($(this).val());
                        });
                      });
                </script>
                <!-- Copy văn bản   <input type="name" />
                <input type="price" />     Copy value-->
                <li class="form-line form-line-column form-col-1">
                    <label class="form-label form-label-top form-label-auto"> Quyền truy cập </label>
                    <div class="form-input-wide">
                            <input type="quyentruycap" class="mask-phone-number form-textbox validate" style="width:310px" value="{{employee.Position_Employee}}" disabled/>
                    </div>
                </li>
                <li class="form-line" >
                    <label class="form-label form-label-top form-label-auto" id="label_75" for="input_75_addr_line1">
                        Địa chỉ </label>
                    <div class="form-input-wide" >
                        <div  class="form-address-table jsTest-addressField">
                            <div class="form-address-line-wrapper jsTest-address-line-wrapperField">
                                <span class="form-address-line form-address-street-line jsTest-address-lineField">
                                    <span class="form-sub-label-container" style="vertical-align:top">
                                        <input type="text" name="diachi" class="form-textbox form-address-line" value="{{employee.Address_Employee}}" />
                                    </span>
                                </span>
                            </div>
                        </div>
                    </div>
                </li>

                <li class="form-line" >
                    <div class="form-input-wide">
                        <div
                            class="form-buttons-wrapper form-buttons-auto   jsTest-button-wrapperField">
                            <a class="small" href="nhansu.html">
                                <button type="submit" class="btn btn-primary" style="width: 100px; height: 40px;">Lưu</button> &nbsp;&nbsp;
                            <input class="btn btn-dark" action="action" onclick="window.history.go(-1); return false;" type="submit" value="Huỷ bỏ" style="width: 100px; height: 40px;" />
                            </a>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
        <script src="{% static 'js/scripts.js' %}"></script>
        <script src="https://cdn.jsdelivr.net/npm/simple-datatables@latest" crossorigin="anonymous"></script>
    </form>
</body>
</html>